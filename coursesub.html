<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paul D. Camp Community College – Home</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="forms.css">
</head>
<body>

<a href="#main-form" class="skip-link">Skip to form</a>

<div class="form-wrapper" role="main">
    <!-- Header with camp logo -->
    <header>
      <img src="images/CampLogo.jpg" alt="Paul D. Camp Community College Logo">
      <h1>Paul D. Camp Community College</h1>
      <h2>Course Substitution Form</h2>
    </header>

    <!-- Navigation -->
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
      </ul>
    </nav>
      
   
    <button class="btn-reset no-print" type="button" onclick="resetForm()" aria-label="Reset all form fields">
      ↺ Reset Form
    </button>
  
  <main class="form-body" id="main-form">
    <p class="req-note"><abbr title="Required">*</abbr> Indicates a required field.</p>

    <!-- Instructions (hidden on print) -->
    <div class="instructions" role="note" aria-label="Form instructions">
      Complete the table below by entering the original course in the first columns and the replacement course in the second columns. Enter how many credits should be directed to the specific line number (LN###) of the course being substituted — this can be found on the advising transcript, if available.
    </div>

    <!-- Student Information -->
    <fieldset>
      <legend>Student Information</legend>
      <div class="field-row cols-2">
        <div>
          <label for="student-id">Student I.D. (Empl. ID) <span class="req" aria-hidden="true">*</span></label>
          <input type="text" id="student-id" name="student_id" autocomplete="off" aria-required="true">
        </div>
        <div>
          <label for="student-name">Student Name <span class="req" aria-hidden="true">*</span></label>
          <input type="text" id="student-name" name="student_name" autocomplete="name" aria-required="true">
        </div>
      </div>
      <div class="field-row cols-2">
        <div>
          <label for="program">Program of Study <span class="req" aria-hidden="true">*</span></label>
          <input type="text" id="program" name="program" aria-required="true">
        </div>
        <div>
          <label for="plan-code">Plan Code</label>
          <input type="text" id="plan-code" name="plan_code">
        </div>
      </div>
    </fieldset>

    <!-- Requestor Information -->
    <fieldset>
      <legend>Requestor Information</legend>
      <div class="field-row cols-2">
        <div>
          <label for="requestor-name">Requestor Name <span class="req" aria-hidden="true">*</span></label>
          <input type="text" id="requestor-name" name="requestor_name" autocomplete="name" aria-required="true">
        </div>
        <div>
          <label for="request-date">Date <span class="req" aria-hidden="true">*</span></label>
          <input type="date" id="request-date" name="request_date" aria-required="true">
        </div>
      </div>
      <div class="field-row cols-1">
        <div>
          <label for="reason">Reason for Requested Substitution <span class="req" aria-hidden="true">*</span></label>
          <textarea id="reason" name="reason" rows="3" aria-required="true"></textarea>
        </div>
      </div>
    </fieldset>

    <!-- Substitution Table -->
    <div class="sub-table-wrap">
      <table aria-label="Course substitution details — 6 substitution rows">
        <colgroup>
          <col class="col-num">
          <col class="col-course">
          <col class="col-title">
          <col class="col-arrow">
          <col class="col-course">
          <col class="col-title">
          <col class="col-credits">
          <col class="col-ln">
        </colgroup>
        <caption>Course Substitutions</caption>
        <thead>
          <tr>
            <th scope="col" rowspan="2">#</th>
            <th scope="colgroup" colspan="2">Original Course</th>
            <th scope="col" rowspan="2"></th>
            <th scope="colgroup" colspan="2">Replacement Course</th>
            <th scope="col" rowspan="2">Credits</th>
            <th scope="col" rowspan="2">LN #</th>
          </tr>
          <tr>
            <th scope="col">Course</th>
            <th scope="col">Title</th>
            <th scope="col">Course</th>
            <th scope="col">Title</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 1 original course" name="orig_course_1"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 1 original title" name="orig_title_1"></td>
            <td style="text-align:center;color:#999;font-size:.75rem;">→</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 1 replacement course" name="rep_course_1"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 1 replacement title" name="rep_title_1"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 1 credits" name="credits_1"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 1 LN" name="ln_1"></td>
          </tr>
          <tr>
            <td>2</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 2 original course" name="orig_course_2"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 2 original title" name="orig_title_2"></td>
            <td style="text-align:center;color:#999;font-size:.75rem;">→</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 2 replacement course" name="rep_course_2"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 2 replacement title" name="rep_title_2"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 2 credits" name="credits_2"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 2 LN" name="ln_2"></td>
          </tr>
          <tr>
            <td>3</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 3 original course" name="orig_course_3"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 3 original title" name="orig_title_3"></td>
            <td style="text-align:center;color:#999;font-size:.75rem;">→</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 3 replacement course" name="rep_course_3"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 3 replacement title" name="rep_title_3"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 3 credits" name="credits_3"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 3 LN" name="ln_3"></td>
          </tr>
          <tr>
            <td>4</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 4 original course" name="orig_course_4"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 4 original title" name="orig_title_4"></td>
            <td style="text-align:center;color:#999;font-size:.75rem;">→</td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 4 replacement course" name="rep_course_4"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 4 replacement title" name="rep_title_4"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 4 credits" name="credits_4"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 4 LN" name="ln_4"></td>
          </tr>
          <tr>
            <td>5</td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 5 original course" name="orig_course_5"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 5 original title" name="orig_title_5"></td>
            <td style="text-align:center;color:#999;font-size:.75rem;">→</td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 5 replacement course" name="rep_course_5"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 5 replacement title" name="rep_title_5"></td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 5 credits" name="credits_5"></td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 5 LN" name="ln_5"></td>
          </tr>
          <tr>
            <td>6</td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 6 original course" name="orig_course_6"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 6 original title" name="orig_title_6"></td>
            <td style="text-align:center;color:#999;font-size:.75rem;">→</td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 6 replacement course" name="rep_course_6"></td>
            <td><input class="tbl-input shrink-input" type="text" aria-label="Sub 6 replacement title" name="rep_title_6"></td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 6 credits" name="credits_6"></td>
            <td><input class="tbl-input shrink-input"  type="text" aria-label="Sub 6 LN" name="ln_6"></td>
          </tr>
        </tbody>
      </table>
    </div>

  <!-- Dean's Use Only -->
<fieldset class="office-section">
  <legend>Dean's Use Only</legend>

  <!-- Decision Options -->
  <div class="decision-options-table">
    <span>Approved ☐</span>
    <span>Disapproved ☐</span>
  </div>

  <!-- Optional: Signature -->
  <div class="sig-date-row">
    <label for="dean-sig">Dean's Signature:</label>
    <input type="text" id="dean-sig" name="dean_signature" placeholder="Sign here">
      <label for="dean-date">Date:</label>
    <input type="text" id="dean-date" name="dean_date" placeholder="Date">
  </div>
</fieldset>

<!-- Office Use Only -->
<fieldset class="office-section">
  <legend>Registrar's Use Only</legend>

  <!-- Decision Options -->
  <div class="decision-options-table">
    <span>Approved ☐</span>
    <span>Disapproved ☐</span>
  </div>

  <!-- Optional: Signature -->
  <div class="sig-date-row">
    <label for="reg-sig">Registrar's Signature:</label>
    <input type="text" id="reg-sig" name="registrar_signature" placeholder="Sign here">
      <label for="reg-date">Date:</label>
    <input type="text" id="reg-date" name="registrar_date" placeholder="Date">
  </div>
</fieldset>

  </main>

  <!-- Save / Print -->
  <div class="save-btn-row no-print">
    <button class="btn-print" type="button" onclick="window.print()" aria-label="Save or print this form as a PDF">
      Save / Print as PDF
    </button>
    <p class="btn-hint">When the print dialog opens, choose <strong>Save as PDF</strong> as the destination.</p>
  </div>

</div>

<script>
  // ── Shrink-to-fit for title inputs ──────────────────────────────────────
  // Reduces font size as text grows so it never scrolls out of view.
  const BASE_FONT = 13.6; // px  (~0.85rem at 16px root)
  const MIN_FONT  = 8;    // px  smallest readable size

  function fitText(input) {
    input.style.fontSize = BASE_FONT + 'px';
    let size = BASE_FONT;
    while (input.scrollWidth > input.clientWidth && size > MIN_FONT) {
      size -= 0.4;
      input.style.fontSize = size + 'px';
    }
  }

  document.querySelectorAll('.shrink-input').forEach(input => {
    input.addEventListener('input',  () => fitText(input));
    input.addEventListener('focus',  () => fitText(input));
    // Re-check on window resize (column widths may change)
    window.addEventListener('resize', () => fitText(input));
  });

  // ── Reset form ──────────────────────────────────────────────────────────
  function resetForm() {
    if (!confirm('Clear all fields and start over?')) return;
    document.querySelectorAll('input[type="text"], input[type="date"], textarea')
      .forEach(el => { el.value = ''; });
    document.querySelectorAll('input[type="radio"]')
      .forEach(el => { el.checked = false; });
    document.querySelectorAll('.shrink-input')
      .forEach(el => { el.style.fontSize = BASE_FONT + 'px'; });
  }
</script>

</body>
</html>
